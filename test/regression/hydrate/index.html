<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Hydrate regression test</title>
  </head>
  <body>
    <div id="render-to"></div>
    <button id="hydrate-button" onclick="hydrateTest()">Hydrate</button>

    <script src="../scripts/bundle.umd.js"></script>
    <script>
      const { hydrate, Bucket } = huxRegression;

      const hydrateTest = async () => {
        const { testProp } = await hydrate({
          name: 'Test',
          query: ['testProp']
        });

        document.getElementById('render-to').innerText = testProp;
      };
    
      Bucket({
        name: 'Test',
        hydrate: {
          url: 'http://localhost:8128/api/hydrate'
        },
        schema: {
          type: 'object',
          properties: {
            testProp: { type: 'string' }
          }
        }
      });
    </script>
  </body>
</html>
